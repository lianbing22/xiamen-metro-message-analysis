---
name: 厦门地铁设备报文分析系统
description: 基于GLM大模型的地铁水泵设备报文智能分析系统，实现报文上传、存储、分析和问题诊断
status: backlog
created: 2025-10-07T00:06:58Z
github: https://github.com/lianbing22/xiamen-metro-message-analysis
---

# PRD: 厦门地铁设备报文分析系统

## 执行摘要

厦门地铁设备报文分析系统是一个智能化的设备监控和诊断平台，专门针对地铁车站水泵房的运行数据进行深度分析。系统通过集成GLM-4.6大模型，实现报文数据的自动化解析、智能分析和问题预警，帮助运维团队提前发现设备异常，优化维护策略，提升地铁运营的安全性和效率。

## 问题陈述

### 当前挑战
1. **人工分析效率低下**：当前依赖人工分析大量水泵运行报文，耗时且容易出错
2. **问题发现滞后**：设备异常往往在发生后才能被发现，缺乏预警机制
3. **数据价值未充分利用**：海量的历史报文数据缺乏系统性的分析和挖掘
4. **缺乏标准化分析模型**：不同维护人员的分析标准不一致，影响诊断准确性

### 业务影响
- 设备故障导致的服务中断风险
- 维护成本居高不下
- 运营效率有待提升
- 数据驱动决策能力不足

## 用户故事

### 主要用户角色

#### 1. 地铁维保工程师
**用户画像**：负责地铁设备日常维护的技术人员，具备一定的技术背景

**用户故事**：
- 作为维保工程师，我希望能够快速上传水泵运行报文，以便系统能够自动分析设备状态
- 作为维保工程师，我希望系统及时提醒我潜在的设备问题，以便我能够提前进行维护
- 作为维保工程师，我希望能够查看历史分析报告，以便我能够追踪设备的性能趋势

**验收标准**：
- 能够在3步内完成报文文件上传
- 系统在5分钟内完成分析并生成报告
- 接收到异常预警的时间不超过设备故障前的24小时

#### 2. 维保主管
**用户画像**：管理维保团队，负责制定维护计划和技术决策

**用户故事**：
- 作为维保主管，我希望能够查看所有水泵设备的整体健康状态，以便我能够合理分配维护资源
- 作为维保主管，我希望能够获取设备性能趋势分析，以便我能够制定长期的维护策略
- 作为维保主管，我希望能够导出分析报告，以便我能够向管理层汇报工作成果

**验收标准**：
- 能够在仪表板上查看所有设备的实时状态
- 系统提供月度和季度的性能分析报告
- 支持PDF、Excel格式的报告导出

#### 3. 运营调度中心
**用户画像**：负责地铁日常运营调度，需要了解设备状态对运营的影响

**用户故事**：
- 作为调度员，我希望能够了解关键设备的运行状态，以便我能够合理安排运营计划
- 作为调度员，我希望在设备发生严重故障时立即收到通知，以便我能够启动应急预案

**验收标准**：
- 严重故障预警在1分钟内送达
- 设备状态信息实时更新（延迟不超过30秒）

## 功能需求

### 核心功能

#### 1. 报文上传管理
- **批量上传功能**：支持多文件同时上传，最大100MB/文件
- **格式支持**：Excel (.xlsx, .xls)、CSV、JSON格式
- **上传进度显示**：实时显示上传进度和状态
- **文件预处理**：自动识别文件格式，提取关键字段
- **数据验证**：校验报文数据完整性和格式正确性

#### 2. 数据存储管理
- **本地数据库**：使用SQLite/PostgreSQL存储报文数据
- **数据分区**：按时间和站点进行数据分区管理
- **数据备份**：每日自动备份，保留30天历史数据
- **数据压缩**：历史数据自动压缩存储，节省空间
- **索引优化**：建立多维度索引，提升查询效率

#### 3. GLM智能分析
- **实时分析**：上传后自动触发GLM-4.6模型分析
- **批量分析**：支持历史数据的批量重新分析
- **分析模板**：预设多种分析场景模板
- **自定义规则**：支持用户自定义分析规则和阈值
- **结果缓存**：缓存分析结果，避免重复计算

#### 4. 水泵问题模型
- **异常检测**：识别启泵频率异常、运行时间异常
- **能耗分析**：分析水泵能耗趋势，识别能耗异常
- **故障预测**：基于历史数据预测潜在故障
- **性能评估**：评估水泵运行效率
- **维护建议**：根据分析结果提供维护建议

#### 5. 分析结果展示
- **可视化仪表板**：展示关键指标和趋势
- **详细分析报告**：生成结构化的分析报告
- **异常事件列表**：列出所有检测到的异常
- **历史趋势图**：展示设备性能变化趋势
- **对比分析**：支持不同时间段、不同设备的对比

### 辅助功能

#### 6. 告警通知系统
- **实时告警**：检测到异常立即推送通知
- **告警分级**：严重、警告、提醒三级告警
- **通知渠道**：邮件、短信、系统内通知
- **告警抑制**：避免重复告警，支持告静默期
- **告警确认**：支持告警确认和处理反馈

#### 7. 用户权限管理
- **角色管理**：管理员、工程师、查看者等角色
- **权限控制**：不同角色具有不同操作权限
- **审计日志**：记录所有用户操作
- **单点登录**：支持与企业AD集成
- **会话管理**：自动超时和重新认证

#### 8. 系统配置
- **参数配置**：GLM API参数、分析阈值配置
- **站点管理**：管理地铁站点信息
- **设备管理**：管理水泵设备档案
- **模板管理**：管理分析报告模板
- **日志管理**：系统运行日志查看和管理

## 非功能需求

### 性能要求
- **响应时间**：页面加载时间<3秒，分析响应时间<30秒
- **并发用户**：支持100个并发用户同时使用
- **处理能力**：每小时处理1000份报文文件
- **存储容量**：支持3年历史数据存储
- **可用性**：99.9%系统可用性

### 安全要求
- **数据加密**：敏感数据传输和存储加密
- **访问控制**：基于角色的访问控制（RBAC）
- **操作审计**：完整的操作审计日志
- **数据备份**：每日自动备份和灾难恢复
- **API安全**：GLM API调用认证和限流

### 可扩展性
- **模块化设计**：支持功能模块独立部署
- **API接口**：提供RESTful API接口
- **插件机制**：支持自定义分析插件
- **多租户**：支持未来扩展到多个地铁线路
- **云原生**：支持容器化部署

### 易用性
- **界面友好**：直观的用户界面，减少培训成本
- **操作简便**：关键操作不超过3步完成
- **帮助文档**：提供完整的操作手册
- **视频教程**：关键功能提供视频教程
- **快捷操作**：支持键盘快捷键

## 成功标准

### 量化指标
1. **分析效率提升**：报文分析时间从平均30分钟缩短到5分钟以内
2. **异常检测准确率**：设备异常检测准确率达到95%以上
3. **故障预警提前量**：平均提前24小时预警潜在故障
4. **用户满意度**：用户满意度评分达到4.5/5.0
5. **系统稳定性**：月度故障时间不超过4小时

### 业务价值
1. **维护成本降低**：年度维护成本降低20%
2. **设备可用率提升**：水泵设备可用率提升到99.5%
3. **运维效率提升**：运维效率提升40%
4. **故障减少**：设备故障次数减少30%

## 约束与假设

### 技术约束
- 必须使用GLM-4.6模型进行报文分析
- API调用频率限制：1000次/分钟
- 本地部署，数据不能上云
- 需要兼容现有的工单系统

### 业务约束
- 必须保证7x24小时不间断服务
- 数据保留期不少于3年
- 需要通过信息安全认证
- 必须支持移动端访问

### 假设
- GLM API服务稳定可用
- 报文格式在一定时期内保持稳定
- 用户具备基本的计算机操作能力
- 网络带宽能够满足系统需求

## 范围之外

### 本期不包含的功能
1. **实时监控**：不包含设备实时数据采集
2. **移动App**：不开发独立的移动应用
3. **多语言支持**：仅支持中文界面
4. **第三方系统集成**：不包含与其他系统的集成
5. **机器学习自训练**：不包含模型的自训练功能

### 未来可能扩展
1. **多设备类型支持**：扩展到其他地铁设备
2. **预测性维护**：更高级的预测算法
3. **数字孪生**：设备数字孪生模型
4. **AI辅助决策**：基于AI的维护决策支持

## 依赖关系

### 外部依赖
1. **GLM API服务**：智谱AI的GLM-4.6模型服务
2. **硬件设施**：服务器、存储设备、网络设备
3. **操作系统**：Linux/Windows Server
4. **数据库**：PostgreSQL/MySQL
5. **消息队列**：Redis/RabbitMQ

### 内部依赖
1. **IT基础设施**：网络、电力、机房环境
2. **运维团队**：系统维护和技术支持
3. **业务部门**：需求确认和验收测试
4. **安全部门**：安全评估和合规审批
5. **采购部门**：硬件和软件采购

## 实施计划

### 第一阶段（MVP）- 4周
- 报文上传功能
- 基础数据存储
- GLM模型集成
- 基础分析展示

### 第二阶段 - 6周
- 完整的问题模型
- 可视化仪表板
- 告警通知系统
- 用户权限管理

### 第三阶段 - 4周
- 性能优化
- 安全加固
- 文档完善
- 用户培训

## 风险评估

### 高风险
1. **GLM API稳定性**：外部服务依赖风险
   - 缓解措施：建立多服务商备用方案

2. **数据安全**：敏感数据泄露风险
   - 缓解措施：加强加密和访问控制

### 中风险
1. **性能瓶颈**：大量数据处理可能影响性能
   - 缓解措施：采用分布式架构

2. **用户接受度**：新系统使用习惯培养
   - 缓解措施：加强培训和推广

## 成本估算

### 开发成本
- 人力成本：14周 × 5人 = 70人周
- 硬件成本：服务器、存储约20万
- 软件许可：数据库、中间件等约5万
- GLM API费用：预估10万/年

### 运营成本
- 人力成本：2名运维 × 12月
- 硬件折旧：3年摊销
- API调用费：根据实际使用量
- 维护升级：预估5万/年